<div x-data="{ active_slug: '' }"
     @highlight-map.window="active_slug = $event.detail.slug"
     class="w-full h-auto border border-gray-200 rounded-lg p-4 bg-white">

    <h3 class="text-lg font-bold mb-2">Library Map</h3>
    <p class="text-sm text-gray-500 mb-4">Hover over books to see their location.</p>

    <svg viewBox="0 0 800 600" class="w-full h-full bg-gray-50 border border-gray-200">
        <!-- Floor plan background -->
        <rect x="0" y="0" width="800" height="600" fill="#f9fafb" />

        <!-- Example Shelves (Aisle A) -->
        <g id="aisle-a">
            <text x="100" y="40" class="text-lg font-bold" fill="#374151">Aisle A</text>

            <!-- Shelf A1 -->
            <rect id="shelf-a1"
                  x="50" y="50" width="100" height="200"
                  class="transition-colors duration-300"
                  :class="active_slug === 'shelf-a1' ? 'fill-blue-500 animate-pulse' : 'fill-gray-300'" />
            <text x="80" y="150" font-size="14" fill="white">A1</text>

            <!-- Shelf A2 -->
            <rect id="shelf-a2"
                  x="180" y="50" width="100" height="200"
                  class="transition-colors duration-300"
                  :class="active_slug === 'shelf-a2' ? 'fill-blue-500 animate-pulse' : 'fill-gray-300'" />
             <text x="210" y="150" font-size="14" fill="white">A2</text>
        </g>

        <!-- Example Shelves (Aisle B) -->
        <g id="aisle-b">
            <text x="100" y="340" class="text-lg font-bold" fill="#374151">Aisle B</text>

            <!-- Shelf B1 -->
            <rect id="shelf-b1"
                  x="50" y="350" width="100" height="200"
                  class="transition-colors duration-300"
                  :class="active_slug === 'shelf-b1' ? 'fill-blue-500 animate-pulse' : 'fill-gray-300'" />
             <text x="80" y="450" font-size="14" fill="white">B1</text>

            <!-- Shelf B2 -->
            <rect id="shelf-b2"
                  x="180" y="350" width="100" height="200"
                  class="transition-colors duration-300"
                  :class="active_slug === 'shelf-b2' ? 'fill-blue-500 animate-pulse' : 'fill-gray-300'" />
             <text x="210" y="450" font-size="14" fill="white">B2</text>
        </g>

        <!-- Legend or Info -->
        <text x="500" y="50" font-size="12" fill="#6b7280">Map not to scale.</text>
    </svg>
</div>
